<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>emoSyn.cc File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.1 on Wed Oct 4 16:37:24 2000 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>emoSyn.cc File Reference</h1><code>#include "parse_argument.h"</code><br>
<code>#include "<a class="el" href="phrase_h-source.html">phrase.h</a>"</code><br>

<p>
Include dependency graph for emoSyn.cc:<p><center><img src="emoSyn_cc_incl.gif" border="0" usemap="#emoSyn.cc_map" alt="Include dependency graph"></center>
<map name="emoSyn.cc_map">
<area href="parse_argument_h.html" shape="rect" coords="51,67,157,85">
<area href="util_h.html" shape="rect" coords="364,67,404,85">
<area href="phrase_h.html" shape="rect" coords="236,267,295,285">
<area href="syllable_h.html" shape="rect" coords="245,200,309,219">
<area href="phon_h.html" shape="rect" coords="295,133,343,152">
</map><p>
<table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="emoSyn_cc.html#a1">usage</a> ()</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="emoSyn_cc.html#a2">initKlattDefaults</a> (<a class="el" href="class_globalsT.html">globalsT</a> &amp;glob, string fileName)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>reads in the default valus for the klatt-parameters from file named fileName.</em> <a href="#a2">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="emoSyn_cc.html#a3">main</a> (int argc, char **argv)</td></tr>
<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td nowrap align=right valign=top>const string&nbsp;</td><td valign=bottom><a class="el" href="emoSyn_cc.html#a0">version</a> = "0.01"</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>version number.</em></font><br><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a name="a2" doxytag="emoSyn.cc::initKlattDefaults"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void initKlattDefaults (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="class_globalsT.html">globalsT</a> &amp; <em>glob</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
string <em>fileName</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
reads in the default valus for the klatt-parameters from file named fileName.
<p>
<dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>globalsT</em>
&nbsp;</td><td>
 &amp;glob </td></tr>
<tr><td valign=top><em>string</em>
&nbsp;</td><td>
 fileName </td></tr>
</table>
</dl><div class="fragment"><pre>00636                                                        {
00637   string buffer, token;
00638   <font class="keywordtype">int</font> lineCounter=0;
00639 
00640   glob.use4Freq = <font class="keyword">true</font>; <font class="comment">// default is</font>
00641   glob.use5Freq = <font class="keyword">true</font>; <font class="comment">// usage of all 5 formantfreqs</font>
00642   glob.changeDurMethod = TIME_ALIGNED;
00643   glob.verbose = <font class="keyword">false</font>;
00644   glob.warningsOff = <font class="keyword">true</font>;
00645   glob.copyDB = <font class="keyword">false</font>;
00646   glob.copysynthesis = <font class="keyword">true</font>;
00647   
00648   glob.senSyn=<font class="keyword">true</font>; <font class="comment">// default is output for sensyn-synthesizer</font>
00649   
00650   
00651   glob.f0Dyn = <font class="keyword">false</font>; glob.f1Dyn = <font class="keyword">false</font>; glob.f2Dyn = <font class="keyword">false</font>; glob.f3Dyn = <font class="keyword">false</font>; glob.f4Dyn = <font class="keyword">false</font>; glob.f5Dyn = <font class="keyword">false</font>; glob.f6Dyn = <font class="keyword">false</font>; glob.b1Dyn = <font class="keyword">false</font>; glob.b2Dyn = <font class="keyword">false</font>; glob.b3Dyn = <font class="keyword">false</font>; glob.b4Dyn = <font class="keyword">false</font>; glob.b5Dyn = <font class="keyword">false</font>; glob.b6Dyn = <font class="keyword">false</font>; glob.b2pDyn = <font class="keyword">false</font>; glob.b3pDyn = <font class="keyword">false</font>; glob.b4pDyn = <font class="keyword">false</font>; glob.b5pDyn = <font class="keyword">false</font>; glob.b6pDyn = <font class="keyword">false</font>; glob.avDyn = <font class="keyword">false</font>; glob.ahDyn = <font class="keyword">false</font>; glob.oqDyn = <font class="keyword">false</font>; glob.aturbDyn = <font class="keyword">false</font>; glob.afDyn = <font class="keyword">false</font>; glob.abDyn = <font class="keyword">false</font>; glob.tlDyn = <font class="keyword">false</font>; glob.flDyn = <font class="keyword">false</font>; glob.anvDyn = <font class="keyword">false</font>; glob.fnzDyn = <font class="keyword">false</font>; glob.bnzDyn = <font class="keyword">false</font>; glob.fnpDyn = <font class="keyword">false</font>; glob.bnpDyn = <font class="keyword">false</font>; glob.sqDyn = <font class="keyword">false</font>; glob.diDyn = <font class="keyword">false</font>; glob.df1Dyn = <font class="keyword">false</font>; glob.db1Dyn = <font class="keyword">false</font>; glob.ftpDyn = <font class="keyword">false</font>; glob.btpDyn = <font class="keyword">false</font>; glob.ftzDyn = <font class="keyword">false</font>; glob.btzDyn = <font class="keyword">false</font>; glob.a2fDyn = <font class="keyword">false</font>; glob.a3fDyn = <font class="keyword">false</font>; glob.a4fDyn = <font class="keyword">false</font>; glob.a5fDyn = <font class="keyword">false</font>; glob.a6fDyn = <font class="keyword">false</font>; glob.a1vDyn = <font class="keyword">false</font>; glob.a2vDyn = <font class="keyword">false</font>; glob.a3vDyn = <font class="keyword">false</font>; glob.a4vDyn = <font class="keyword">false</font>; glob.atvDyn = <font class="keyword">false</font>;
00652   
00653   ifstream inFile(fileName.c_str());
00654   <font class="keywordflow">if</font> (inFile.good()) {
00655     <font class="keywordflow">while</font>  (getline(inFile, buffer)) {
00656       <font class="keywordflow">if</font> (buffer != <font class="stringliteral">""</font>) {
00657         istrstream ist(buffer.c_str());
00658         ist&gt;&gt;token; 
00659         <font class="keywordflow">if</font> (token != <font class="stringliteral">"#"</font>) {
00660           ist&gt;&gt;token; <font class="comment">// sec. entry is value</font>
00661           <font class="keywordflow">switch</font> (lineCounter) {
00662           <font class="keywordflow">case</font> 0: glob.ui = atoi(token.c_str());
00663             <font class="keywordflow">break</font>;
00664           <font class="keywordflow">case</font> 1: glob.sr = atoi(token.c_str());
00665             <font class="keywordflow">break</font>;
00666           <font class="keywordflow">case</font> 2: glob.nf = atoi(token.c_str());
00667             <font class="keywordflow">break</font>;
00668           <font class="keywordflow">case</font> 3: glob.ss = atoi(token.c_str());
00669             <font class="keywordflow">break</font>;
00670           <font class="keywordflow">case</font> 4: glob.rs = atoi(token.c_str());
00671             <font class="keywordflow">break</font>;
00672           <font class="keywordflow">case</font> 5: glob.sb = atoi(token.c_str());
00673             <font class="keywordflow">break</font>;
00674           <font class="keywordflow">case</font> 6: glob.cp = atoi(token.c_str());
00675             <font class="keywordflow">break</font>;
00676           <font class="keywordflow">case</font> 7: glob.os = atoi(token.c_str());
00677             <font class="keywordflow">break</font>;
00678           <font class="keywordflow">case</font> 8: glob.gv = atoi(token.c_str());
00679             <font class="keywordflow">break</font>;
00680           <font class="keywordflow">case</font> 9: glob.gh = atoi(token.c_str());
00681             <font class="keywordflow">break</font>;
00682           <font class="keywordflow">case</font> 10: glob.gf = atoi(token.c_str());
00683             <font class="keywordflow">break</font>;
00684           <font class="keywordflow">case</font> 11: glob.f0 = atoi(token.c_str());
00685             <font class="keywordflow">break</font>;
00686           <font class="keywordflow">case</font> 12: glob.av = atoi(token.c_str());
00687             <font class="keywordflow">break</font>;
00688           <font class="keywordflow">case</font> 13: glob.ah = atoi(token.c_str());
00689             <font class="keywordflow">break</font>;
00690           <font class="keywordflow">case</font> 14: glob.af = atoi(token.c_str());
00691             <font class="keywordflow">break</font>;
00692           <font class="keywordflow">case</font> 15: glob.tl = atoi(token.c_str());
00693             <font class="keywordflow">break</font>;
00694           <font class="keywordflow">case</font> 16: glob.oq = atoi(token.c_str());
00695             <font class="keywordflow">break</font>;
00696           <font class="keywordflow">case</font> 17: glob.sq = atoi(token.c_str());
00697             <font class="keywordflow">break</font>;
00698           <font class="keywordflow">case</font> 18: glob.fl = atoi(token.c_str());
00699             <font class="keywordflow">break</font>;
00700           <font class="keywordflow">case</font> 19: glob.di = atoi(token.c_str());
00701             <font class="keywordflow">break</font>;
00702           <font class="keywordflow">case</font> 20: glob.aturb = atoi(token.c_str());
00703             <font class="keywordflow">break</font>;
00704           <font class="keywordflow">case</font> 21: glob.avp = atoi(token.c_str());
00705             <font class="keywordflow">break</font>;
00706           <font class="keywordflow">case</font> 22: glob.gain = atoi(token.c_str());
00707             <font class="keywordflow">break</font>;
00708           <font class="keywordflow">case</font> 23: glob.fnz = atoi(token.c_str());
00709             <font class="keywordflow">break</font>;
00710           <font class="keywordflow">case</font> 24: glob.bnz = atoi(token.c_str());
00711             <font class="keywordflow">break</font>;
00712           <font class="keywordflow">case</font> 25: glob.fnp = atoi(token.c_str());
00713             <font class="keywordflow">break</font>;
00714           <font class="keywordflow">case</font> 26: glob.bnp = atoi(token.c_str());
00715             <font class="keywordflow">break</font>;
00716           <font class="keywordflow">case</font> 27: glob.ftp = atoi(token.c_str());
00717             <font class="keywordflow">break</font>;
00718           <font class="keywordflow">case</font> 28: glob.btp = atoi(token.c_str());
00719             <font class="keywordflow">break</font>;
00720           <font class="keywordflow">case</font> 29: glob.ftz = atoi(token.c_str());
00721             <font class="keywordflow">break</font>;
00722           <font class="keywordflow">case</font> 30: glob.btz = atoi(token.c_str());
00723             <font class="keywordflow">break</font>;
00724           <font class="keywordflow">case</font> 31: glob.df1 = atoi(token.c_str());
00725             <font class="keywordflow">break</font>;
00726           <font class="keywordflow">case</font> 32: glob.db1 = atoi(token.c_str());
00727             <font class="keywordflow">break</font>;
00728           <font class="keywordflow">case</font> 33: glob.f1 = atoi(token.c_str());
00729             <font class="keywordflow">break</font>;
00730           <font class="keywordflow">case</font> 34: glob.f2 = atoi(token.c_str());
00731             <font class="keywordflow">break</font>;
00732           <font class="keywordflow">case</font> 35: glob.f3 = atoi(token.c_str());
00733             <font class="keywordflow">break</font>;
00734           <font class="keywordflow">case</font> 36: glob.f4 = atoi(token.c_str());
00735             <font class="keywordflow">break</font>;
00736           <font class="keywordflow">case</font> 37: glob.f5 = atoi(token.c_str());
00737             <font class="keywordflow">break</font>;
00738           <font class="keywordflow">case</font> 38: glob.f6 = atoi(token.c_str());
00739             <font class="keywordflow">break</font>;
00740           <font class="keywordflow">case</font> 39: glob.b1 = atoi(token.c_str());
00741             <font class="keywordflow">break</font>;
00742           <font class="keywordflow">case</font> 40: glob.b2 = atoi(token.c_str());
00743             <font class="keywordflow">break</font>;
00744           <font class="keywordflow">case</font> 41: glob.b3 = atoi(token.c_str());
00745             <font class="keywordflow">break</font>;
00746           <font class="keywordflow">case</font> 42: glob.b4 = atoi(token.c_str());
00747             <font class="keywordflow">break</font>;
00748           <font class="keywordflow">case</font> 43: glob.b5 = atoi(token.c_str());
00749             <font class="keywordflow">break</font>;
00750           <font class="keywordflow">case</font> 44: glob.b6 = atoi(token.c_str());
00751             <font class="keywordflow">break</font>;
00752           <font class="keywordflow">case</font> 45: glob.anv = atoi(token.c_str());
00753             <font class="keywordflow">break</font>;
00754           <font class="keywordflow">case</font> 46: glob.ab = atoi(token.c_str());
00755             <font class="keywordflow">break</font>;
00756           <font class="keywordflow">case</font> 47: glob.a2f = atoi(token.c_str());
00757             <font class="keywordflow">break</font>;
00758           <font class="keywordflow">case</font> 48: glob.a3f = atoi(token.c_str());
00759             <font class="keywordflow">break</font>;
00760           <font class="keywordflow">case</font> 49: glob.a4f = atoi(token.c_str());
00761             <font class="keywordflow">break</font>;
00762           <font class="keywordflow">case</font> 50: glob.a5f = atoi(token.c_str());
00763             <font class="keywordflow">break</font>;
00764           <font class="keywordflow">case</font> 51: glob.a6f = atoi(token.c_str());
00765             <font class="keywordflow">break</font>;
00766           <font class="keywordflow">case</font> 52: glob.b2p = atoi(token.c_str());
00767             <font class="keywordflow">break</font>;
00768           <font class="keywordflow">case</font> 53: glob.b3p = atoi(token.c_str());
00769             <font class="keywordflow">break</font>;
00770           <font class="keywordflow">case</font> 54: glob.b4p = atoi(token.c_str());
00771             <font class="keywordflow">break</font>;
00772           <font class="keywordflow">case</font> 55: glob.b5p = atoi(token.c_str());
00773             <font class="keywordflow">break</font>;
00774           <font class="keywordflow">case</font> 56: glob.b6p = atoi(token.c_str());
00775             <font class="keywordflow">break</font>;
00776           <font class="keywordflow">case</font> 57: glob.a1v = atoi(token.c_str());
00777             <font class="keywordflow">break</font>;
00778           <font class="keywordflow">case</font> 58: glob.a2v = atoi(token.c_str());
00779             <font class="keywordflow">break</font>;
00780           <font class="keywordflow">case</font> 59: glob.a3v = atoi(token.c_str());
00781             <font class="keywordflow">break</font>;
00782           <font class="keywordflow">case</font> 60: glob.a4v = atoi(token.c_str());
00783             <font class="keywordflow">break</font>;
00784           <font class="keywordflow">case</font> 61: glob.atv = atoi(token.c_str());
00785             <font class="keywordflow">break</font>;
00786           <font class="keywordflow">case</font> 62: glob.a1 = atoi(token.c_str());
00787             <font class="keywordflow">break</font>;
00788           <font class="keywordflow">case</font> 63: glob.b1p = atoi(token.c_str());
00789             <font class="keywordflow">break</font>;
00790           <font class="keywordflow">case</font> 64: glob.a2 = atoi(token.c_str());
00791             <font class="keywordflow">break</font>;
00792           <font class="keywordflow">case</font> 65: glob.a3 = atoi(token.c_str());
00793             <font class="keywordflow">break</font>;
00794           <font class="keywordflow">case</font> 66: glob.a4 = atoi(token.c_str());
00795             <font class="keywordflow">break</font>;
00796           <font class="keywordflow">case</font> 67: glob.a5 = atoi(token.c_str());
00797             <font class="keywordflow">break</font>;
00798           <font class="keywordflow">case</font> 68: glob.a6 = atoi(token.c_str());
00799             <font class="keywordflow">break</font>;
00800           <font class="keywordflow">case</font> 69: glob.copysynthesis = (<font class="keywordtype">bool</font>) atoi(token.c_str());
00801             <font class="keywordflow">break</font>;          
00802   <font class="keywordflow">default</font>: 
00803             <a class="code" href="util_h.html#a57">error</a> (<font class="stringliteral">"something's wrong in klatt init-file: "</font>+fileName+<font class="stringliteral">" (might be a space in an empty line)\n"</font>, -3);
00804           }
00805           <font class="comment">// cout &lt;&lt; lineCounter &lt;&lt; " " &lt;&lt; token &lt;&lt; "\n";</font>
00806           lineCounter++;
00807         } 
00808       } 
00809     }
00810     inFile.close();
00811 
00812   } <font class="keywordflow">else</font> {
00813     <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"can't open klatt-init file: "</font>+fileName+<font class="stringliteral">"\n"</font>, -1);
00814   } <font class="comment">// if (inFile.good())</font>
00815   
00816 }
</div></pre>    </td>
  </tr>
</table>
<a name="a3" doxytag="emoSyn.cc::main"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
int main (
          </b></td>
          <td valign="bottom"><b>
int <em>argc</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
char ** <em>argv</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre>00087                                 {
00088 
00089   <font class="keywordtype">char</font> *inFileName, *outFileName, *modFileName, *testConfFile;
00090   <a class="code" href="class_globalsT.html">globalsT</a> glob;
00091   <font class="keywordtype">char</font> *klattDefaultFileName = <font class="stringliteral">"emoSyn.conf"</font>;
00092   <font class="keywordtype">char</font> *diphonBaseName = <font class="stringliteral">"diphonDB/"</font>;
00093   string buffer;
00094   <font class="keywordtype">int</font> argNum;
00095   <a class="code" href="class_phrase.html">phrase</a> inPhrase;
00096 
00097   argNum = argc-1;
00098 
00099   <font class="keywordflow">if</font> (RETURN_OK==
00100       <a class="code" href="parse_argument_h.html#a7">parse_argument_string</a>(argc, argv, <font class="stringliteral">"-kd"</font>, &amp;klattDefaultFileName))
00101     argNum -= 2;
00102 
00103   <font class="keywordflow">if</font> (<a class="code" href="parse_argument_h.html#a8">parse_argument_flag</a>(argc, argv, <font class="stringliteral">"-h"</font>))
00104     <a class="code" href="emoSyn_cc.html#a1">usage</a>();
00105 
00106   <font class="keywordflow">if</font> (<a class="code" href="parse_argument_h.html#a8">parse_argument_flag</a>(argc, argv, <font class="stringliteral">"-v"</font>)) {
00107     cerr&lt;&lt;<font class="stringliteral">"version: "</font>&lt;&lt;version&lt;&lt;<font class="stringliteral">"\n"</font>;
00108     exit(0);
00109   }
00110 
00111   <a class="code" href="emoSyn_cc.html#a2">initKlattDefaults</a>(glob, string(klattDefaultFileName));
00112 
00113   <font class="keywordflow">if</font> (<a class="code" href="parse_argument_h.html#a8">parse_argument_flag</a>(argc, argv, <font class="stringliteral">"-vb"</font>)) {
00114     glob.verbose = <font class="keyword">true</font>;
00115     argNum -= 1;
00116   }
00117 
00118   
00119   <font class="keywordflow">if</font> (RETURN_OK== <a class="code" href="parse_argument_h.html#a7">parse_argument_string</a>(argc, argv, <font class="stringliteral">"-db"</font>, &amp;diphonBaseName))
00120     argNum -= 2;
00121   
00122   <font class="keywordflow">if</font> (<a class="code" href="parse_argument_h.html#a7">parse_argument_string</a>(argc, argv, <font class="stringliteral">"-ko"</font>, &amp;outFileName)==RETURN_OK)
00123     glob.senSyn=<font class="keyword">false</font>;
00124   <font class="keywordflow">if</font> (<a class="code" href="parse_argument_h.html#a7">parse_argument_string</a>(argc, argv, <font class="stringliteral">"-so"</font>, &amp;outFileName)==RETURN_OK)
00125     glob.senSyn=<font class="keyword">true</font>;
00126 
00127   <font class="keywordflow">if</font> (RETURN_OK==<a class="code" href="parse_argument_h.html#a8">parse_argument_flag</a>(argc, argv, <font class="stringliteral">"-use4Freq"</font>)) {
00128     glob.use4Freq = <font class="keyword">true</font>;
00129     argNum--;
00130   }
00131   <font class="keywordflow">if</font> (RETURN_OK==<a class="code" href="parse_argument_h.html#a8">parse_argument_flag</a>(argc, argv, <font class="stringliteral">"-use5Freq"</font>)) {
00132     glob.use5Freq = <font class="keyword">true</font>;
00133     argNum--;
00134   }
00135 
00136   <font class="keywordflow">if</font> (RETURN_OK==<a class="code" href="parse_argument_h.html#a8">parse_argument_flag</a>(argc, argv, <font class="stringliteral">"-testKlatt"</font>)) {
00137     <a class="code" href="emoSyn_cc.html#a2">initKlattDefaults</a>(glob, <font class="stringliteral">"klattInit.asc"</font>);
00138     glob.senSyn=<font class="keyword">false</font>;
00139     inPhrase.<a class="code" href="class_phrase.html#a16">makeTest</a>(glob, 1000);
00140     ofstream outFile(<font class="stringliteral">"klattTest.par"</font>);
00141     <font class="keywordflow">if</font> (outFile.good()) {
00142       inPhrase.<a class="code" href="class_phrase.html#a14">printKlattFile</a>(outFile);
00143     }
00144     outFile.close();
00145     <font class="keywordflow">return</font> 0;
00146   }
00147   <font class="keywordflow">if</font> (RETURN_OK==<a class="code" href="parse_argument_h.html#a7">parse_argument_string</a>(argc, argv, <font class="stringliteral">"-testSensyn"</font>, &amp;testConfFile)) {
00148     <a class="code" href="emoSyn_cc.html#a2">initKlattDefaults</a>(glob, string(testConfFile));
00149     inPhrase.<a class="code" href="class_phrase.html#a16">makeTest</a>(glob, 1000);
00150     ofstream outFile(<font class="stringliteral">"klattTest.doc"</font>);
00151     <font class="keywordflow">if</font> (outFile.good()) {
00152       inPhrase.<a class="code" href="class_phrase.html#a15">printSenSynFile</a>(glob, outFile);
00153     }
00154     outFile.close();
00155     <font class="keywordflow">return</font> 0;
00156   }
00157 
00158   <font class="comment">// this is to create a pho-file from a database, first step for copysynthesis</font>
00159   <font class="keywordflow">if</font> (<a class="code" href="parse_argument_h.html#a7">parse_argument_string</a>(argc, argv, <font class="stringliteral">"-makePhoFromDB"</font>, &amp;inFileName)==RETURN_OK) {
00160     argNum -= 2;
00161     ifstream inFile(inFileName);
00162     glob.copyDB = <font class="keyword">true</font>;
00163     <font class="keywordflow">if</font> (inFile.good()) {
00164       inPhrase.<a class="code" href="class_phrase.html#a5">readPhoList</a>(inFile, glob);
00165       inFile.close();
00166     } <font class="keywordflow">else</font> {
00167       <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"couldn't open Pho-File: "</font> + string(inFileName) + <font class="stringliteral">"\n"</font>, -1);
00168     }
00169     inPhrase.<a class="code" href="class_phrase.html#a6">readF0FromDB</a>(diphonBaseName, glob);
00170     inPhrase.<a class="code" href="class_phrase.html#a12">printPhoFile</a>(cout, glob);
00171     <font class="keywordflow">return</font> 0;
00172   }  
00173 
00174   <font class="comment">// here start's 'the real thing',</font>
00175   <font class="comment">// readin the pho-file</font>
00176   <font class="keywordflow">if</font> (<a class="code" href="parse_argument_h.html#a7">parse_argument_string</a>(argc, argv, <font class="stringliteral">"-i"</font>, &amp;inFileName)==RETURN_OK) {
00177     argNum -= 2;
00178     ifstream inFile(inFileName);
00179     <font class="keywordflow">if</font> (inFile.good()) {
00180       inPhrase.<a class="code" href="class_phrase.html#a4">readPhoFile</a>(inFile, glob);
00181       inFile.close();
00182       inPhrase.<a class="code" href="class_phrase.html#a1">calcMeanF0</a>();
00183     } <font class="keywordflow">else</font> {
00184       <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"couldn't open Pho-File: "</font> + string(inFileName) + <font class="stringliteral">"\n"</font>, -1);
00185     }
00186   } <font class="keywordflow">else</font> {
00187     <a class="code" href="emoSyn_cc.html#a1">usage</a>();
00188   }  
00189   
00190 
00191 
00192   <font class="comment">// read in diphon values and assign to phones</font>
00193   inPhrase.<a class="code" href="class_phrase.html#a7">readPhonData</a>(diphonBaseName, glob);
00194 
00195   cout &lt;&lt; <font class="stringliteral">"original phrase has mean F0-Val of "</font>&lt;&lt;inPhrase.<a class="code" href="class_phrase.html#a0">MeanF0</a>()/10&lt;&lt;<font class="stringliteral">" Hz and F0-Range of "</font>&lt;&lt;inPhrase.<a class="code" href="class_phrase.html#a2">F0Range</a>()&lt;&lt;<font class="stringliteral">" Semitones\n"</font>;
00196   
00197   <font class="keywordflow">if</font> (<a class="code" href="parse_argument_h.html#a7">parse_argument_string</a>(argc, argv, <font class="stringliteral">"-mf"</font>, &amp;modFileName)==RETURN_OK) {
00198     argNum -= 2;
00199     ifstream modFile(modFileName);
00200     <font class="keywordflow">if</font> (modFile.good()) {
00201       <font class="keywordflow">while</font>  (getline(modFile, buffer)) {
00202         <font class="keywordflow">if</font> (buffer != <font class="stringliteral">""</font>) {
00203           vector&lt;string&gt; bufferVec;
00204           bufferVec = <a class="code" href="util_h.html#a67">string2vec</a>(buffer);
00205           <font class="keywordflow">if</font> (bufferVec.size()&gt;=1) {
00206             string argName = bufferVec[0];
00207             <font class="keywordflow">if</font> (argName != <font class="stringliteral">"#"</font>&amp;&amp;bufferVec.size()&gt;=1) {
00208               <font class="comment">// modify duration parameters</font>
00209               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-changeSpeechRate"</font>) {
00210                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=4) {
00211                   uint rate = atoi(bufferVec[1].c_str());
00212                   <font class="keywordflow">if</font> (rate &lt; MIN_SPEECHRATE || rate &gt; MAX_SPEECHRATE)
00213                     <a class="code" href="util_h.html#a57">error</a> (<font class="stringliteral">"emoSyn:rate &lt; MIN_SPEECHRATE || rate &gt; MAX_SPEECHRATE"</font>, -3);
00214                   glob.changeDurMethod = atoi(bufferVec[2].c_str());
00215                   <font class="keywordtype">int</font> method = atoi(bufferVec[3].c_str());
00216                   <font class="keywordflow">if</font> (rate!=100) {
00217                     inPhrase.<a class="code" href="class_phrase.html#a17">changeSpeechRate</a>(rate, glob, method);
00218                   }
00219                 } <font class="keywordflow">else</font>
00220                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00221               }
00222               
00223               <font class="keywordflow">if</font> (argName  == <font class="stringliteral">"-changeDurStressed"</font>) {
00224                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=4) {
00225                   <font class="keywordtype">int</font> rate = atoi(bufferVec[1].c_str());
00226                   <font class="keywordtype">int</font> both = atoi(bufferVec[2].c_str());
00227                   glob.changeDurMethod = atoi(bufferVec[3].c_str());
00228                   <font class="keywordflow">if</font> (rate!=100) 
00229                     inPhrase.<a class="code" href="class_phrase.html#a18">changeDurStressed</a>(rate, both, glob); 
00230                 } <font class="keywordflow">else</font>
00231                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00232                 
00233               }
00234               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-changeDurNonStressed"</font>) {
00235                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=4) {
00236                   <font class="keywordtype">int</font> rate = atoi(bufferVec[1].c_str());
00237                   <font class="keywordtype">int</font> both = atoi(bufferVec[2].c_str());
00238                   glob.changeDurMethod = atoi(bufferVec[3].c_str());
00239                   <font class="keywordflow">if</font> (rate!=100) 
00240                     inPhrase.<a class="code" href="class_phrase.html#a19">changeDurNonStressed</a>(rate, both, glob); 
00241                 } <font class="keywordflow">else</font>
00242                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00243               } 
00244               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-changeDurVowels"</font>) {
00245                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=3) {
00246                   <font class="keywordtype">int</font> rate = atoi(bufferVec[1].c_str());
00247                   glob.changeDurMethod = atoi(bufferVec[2].c_str());
00248                   <font class="keywordflow">if</font> (rate!=100) {
00249                     inPhrase.<a class="code" href="class_phrase.html#a20">changeDurManner</a>(long_vowel, rate, glob); 
00250                     inPhrase.<a class="code" href="class_phrase.html#a20">changeDurManner</a>(short_vowel, rate, glob); 
00251                   }  
00252                 } <font class="keywordflow">else</font>
00253                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00254               }
00255               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-changeDurLiquides"</font>) {
00256                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=3) { 
00257                   <font class="keywordtype">int</font> rate = atoi(bufferVec[1].c_str());
00258                   glob.changeDurMethod = atoi(bufferVec[2].c_str());
00259                 <font class="keywordflow">if</font> (rate!=100)
00260                   inPhrase.<a class="code" href="class_phrase.html#a20">changeDurManner</a>(liquide, rate, glob); 
00261                 } <font class="keywordflow">else</font>
00262                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00263               }
00264               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-changeDurNasals"</font>) {
00265                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=3) {
00266                   <font class="keywordtype">int</font> rate = atoi(bufferVec[1].c_str());
00267                   glob.changeDurMethod = atoi(bufferVec[2].c_str());
00268                   <font class="keywordflow">if</font> (rate!=100)
00269                     inPhrase.<a class="code" href="class_phrase.html#a20">changeDurManner</a>(nasal, rate, glob); 
00270                 } <font class="keywordflow">else</font>
00271                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00272               }
00273               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-changeDurFricV"</font>) {
00274                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=3) {
00275                   <font class="keywordtype">int</font> rate = atoi(bufferVec[1].c_str());
00276                   glob.changeDurMethod = atoi(bufferVec[2].c_str());
00277                   <font class="keywordflow">if</font> (rate!=100)
00278                     inPhrase.<a class="code" href="class_phrase.html#a20">changeDurManner</a>(fricative_voiced, rate, glob); 
00279                 } <font class="keywordflow">else</font>
00280                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00281               }
00282               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-changeDurFricVL"</font>) {
00283                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=3) {
00284                   <font class="keywordtype">int</font> rate = atoi(bufferVec[1].c_str());
00285                   glob.changeDurMethod = atoi(bufferVec[2].c_str());
00286                   <font class="keywordflow">if</font> (rate!=100)
00287                     inPhrase.<a class="code" href="class_phrase.html#a20">changeDurManner</a>(fricative_voiceless, rate, glob); 
00288                 } <font class="keywordflow">else</font>
00289                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00290               }
00291               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-changeDurPlosV"</font>) {
00292                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=3) { 
00293                   <font class="keywordtype">int</font> rate = atoi(bufferVec[1].c_str());
00294                   glob.changeDurMethod = atoi(bufferVec[2].c_str());
00295                   <font class="keywordflow">if</font> (rate!=100)
00296                     inPhrase.<a class="code" href="class_phrase.html#a20">changeDurManner</a>(stop_voiced, rate, glob); 
00297                 } <font class="keywordflow">else</font>
00298                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00299               }
00300               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-changeDurPlosVL"</font>) {
00301                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=3) { 
00302                   <font class="keywordtype">int</font> rate = atoi(bufferVec[1].c_str());
00303                   glob.changeDurMethod = atoi(bufferVec[2].c_str());
00304                   <font class="keywordflow">if</font> (rate!=100)
00305                     inPhrase.<a class="code" href="class_phrase.html#a20">changeDurManner</a>(stop_voiceless, rate, glob); 
00306                 } <font class="keywordflow">else</font>
00307                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00308               }
00309               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-changeDurSilence"</font>) {
00310                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=3) {
00311                   <font class="keywordtype">int</font> rate = atoi(bufferVec[1].c_str());
00312                   glob.changeDurMethod = atoi(bufferVec[2].c_str());
00313                   <font class="keywordflow">if</font> (rate!=100) 
00314                     inPhrase.<a class="code" href="class_phrase.html#a20">changeDurManner</a>(silence, rate, glob); 
00315                 } <font class="keywordflow">else</font>
00316                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00317               }
00318               <font class="comment">// modify intensity</font>
00319               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-stressedIntensity"</font>) {
00320                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=3) {
00321                   <font class="keywordtype">int</font> dBVal = atoi(bufferVec[1].c_str());
00322                   <font class="keywordtype">int</font> both = atoi(bufferVec[2].c_str());
00323                   <font class="keywordflow">if</font> (dBVal!=0) 
00324                     inPhrase.<a class="code" href="class_phrase.html#a21">changeStressedInt</a>(dBVal, both, glob); 
00325                 } <font class="keywordflow">else</font>
00326                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00327               }
00328               
00329               <font class="comment">// modify pitch-contour</font>
00330               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-changeMeanF0"</font>) {
00331                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=2) {
00332                   <font class="keywordtype">int</font> rate = atoi(bufferVec[1].c_str());
00333                   <font class="keywordflow">if</font> (rate!=100)
00334                     inPhrase.<a class="code" href="class_phrase.html#a22">changeMeanF0</a>(rate, glob);
00335                 } <font class="keywordflow">else</font>
00336                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00337               }
00338               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-changeStressedMeanF0"</font>) {
00339                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=3) {
00340                   <font class="keywordtype">int</font> rate = atoi(bufferVec[1].c_str());
00341                   <font class="keywordtype">int</font> both = atoi(bufferVec[2].c_str());
00342                   <font class="keywordflow">if</font> (rate!=100)
00343                     inPhrase.<a class="code" href="class_phrase.html#a24">changeStressedAvrF0</a>(rate, both, glob);
00344                 } <font class="keywordflow">else</font>
00345                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00346               }
00347               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-changePreStressedMeanF0"</font>) {
00348                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=3) {
00349                   <font class="keywordtype">int</font> rate = atoi(bufferVec[1].c_str());
00350                   <font class="keywordtype">int</font> both = atoi(bufferVec[2].c_str());
00351                   <font class="keywordflow">if</font> (rate!=100)
00352                     inPhrase.<a class="code" href="class_phrase.html#a25">changePreStressedAvrF0</a>(rate, both, glob);
00353                 } <font class="keywordflow">else</font>
00354                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00355               }
00356               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-smootheF0"</font>) {
00357                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=2) {
00358                   <font class="keywordtype">int</font> winsize = atoi(bufferVec[1].c_str());
00359                   <font class="keywordflow">if</font> (winsize&gt;0)
00360                     inPhrase.<a class="code" href="class_phrase.html#a23">smootheF0</a>(winsize, glob);
00361                 } <font class="keywordflow">else</font>
00362                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00363               }     
00364               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-changePitchContourStressed"</font>) {
00365                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=4) {
00366                   CONTOUR_TYPE contType = (CONTOUR_TYPE) atoi(bufferVec[1].c_str());
00367                   uint gradient = atoi(bufferVec[2].c_str());
00368                   <font class="keywordtype">int</font> both = atoi(bufferVec[3].c_str());
00369                   <font class="keywordflow">if</font> (gradient!=0 || contType == straight)
00370                     inPhrase.<a class="code" href="class_phrase.html#a28">changePitchContourStressed</a>(contType, gradient, both, glob);
00371                 } <font class="keywordflow">else</font>
00372                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00373               }
00374               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-changeLastSylContour"</font>) {
00375                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=3) {
00376                   CONTOUR_TYPE contType = (CONTOUR_TYPE) atoi(bufferVec[1].c_str());
00377                   uint gradient = atoi(bufferVec[2].c_str());
00378                   <font class="keywordflow">if</font> (gradient!=0 || contType == straight)
00379                     inPhrase.<a class="code" href="class_phrase.html#a29">changeLastSylContour</a>(contType, gradient, glob);
00380                 } <font class="keywordflow">else</font>
00381                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00382               }
00383               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-changeF0Range"</font>) {
00384                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=2) {
00385                   <font class="keywordtype">int</font> rate = atoi(bufferVec[1].c_str());
00386                   <font class="keywordflow">if</font> (rate!=100)
00387                     inPhrase.<a class="code" href="class_phrase.html#a26">changeF0Range</a>(rate, glob);
00388                 } <font class="keywordflow">else</font>
00389                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00390               }
00391               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-changeF0Variability"</font>) {
00392                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=2) {
00393                   <font class="keywordtype">int</font> rate = atoi(bufferVec[1].c_str());
00394                   <font class="keywordflow">if</font> (rate!=100)
00395                     inPhrase.<a class="code" href="class_phrase.html#a27">changeVariability</a>(rate, glob);
00396                 } <font class="keywordflow">else</font>
00397                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00398               }
00399               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-changePhraseContour"</font>) {
00400                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=3) {
00401                   CONTOUR_TYPE contType = (CONTOUR_TYPE) atoi(bufferVec[1].c_str());            
00402                   <font class="keywordtype">int</font> rate = atoi(bufferVec[2].c_str());
00403                   <font class="keywordflow">if</font> (rate!=100 || contType == straight)
00404                     inPhrase.<a class="code" href="class_phrase.html#a30">changePhraseContour</a>(contType, rate, glob);
00405                 } <font class="keywordflow">else</font>
00406                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00407               }
00408               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-changePhraseContourToAccent"</font>) {
00409                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=2) {
00410                   <font class="keywordtype">int</font> rate = atoi(bufferVec[1].c_str());
00411                   <font class="keywordflow">if</font> (rate!=100)
00412                     inPhrase.<a class="code" href="class_phrase.html#a31">changePhraseContourToAccent</a>(rate, glob);
00413                 } <font class="keywordflow">else</font>
00414                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00415               }
00416               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-addWaves"</font>) {
00417                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=4) {
00418                   <font class="keywordtype">int</font> accRate = atoi(bufferVec[1].c_str());
00419                   <font class="keywordtype">int</font> nonAccRate = atoi(bufferVec[2].c_str());
00420                   <font class="keywordtype">int</font> method = atoi(bufferVec[3].c_str());
00421                   <font class="keywordflow">if</font> (accRate!=100||nonAccRate!=100)
00422                     inPhrase.<a class="code" href="class_phrase.html#a32">addWave</a>(accRate, nonAccRate, method, glob);
00423                 } <font class="keywordflow">else</font>
00424                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00425               }
00426               <font class="comment">// voice/speaking-style modifications: </font>
00427               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-overshootVowels"</font>) {
00428                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=3) {
00429                   ACCENT_TYPE accent = (ACCENT_TYPE) atoi(bufferVec[1].c_str());
00430                   <font class="keywordtype">int</font> rate = atoi(bufferVec[2].c_str());
00431                   <font class="keywordflow">if</font> (rate!=0)
00432                     inPhrase.<a class="code" href="class_phrase.html#a33">overshootVowels</a>(accent, rate, glob);
00433                 } <font class="keywordflow">else</font>
00434                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00435               }
00436               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-undershootVowels"</font>) {
00437                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=3) {
00438                   ACCENT_TYPE accent = (ACCENT_TYPE) atoi(bufferVec[1].c_str());
00439                   <font class="keywordtype">int</font> rate = atoi(bufferVec[2].c_str());
00440                   <font class="keywordflow">if</font> (rate!=0)
00441                     inPhrase.<a class="code" href="class_phrase.html#a34">undershootVowels</a>(accent, rate, glob);
00442                 } <font class="keywordflow">else</font>
00443                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00444               }
00445               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-spreadLips"</font>) {
00446                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=2) {
00447                   <font class="keywordtype">int</font> rate = atoi(bufferVec[1].c_str());
00448                   <font class="keywordflow">if</font> (rate!=0)
00449                     inPhrase.<a class="code" href="class_phrase.html#a35">spread</a>(rate, glob);
00450                 } <font class="keywordflow">else</font>
00451                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00452               }
00453               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-roundedLips"</font>) {
00454                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=2) {
00455                   <font class="keywordtype">int</font> rate = atoi(bufferVec[1].c_str());
00456                   <font class="keywordflow">if</font> (rate!=0)
00457                     inPhrase.<a class="code" href="class_phrase.html#a36">rounded</a>(rate, glob);
00458                 } <font class="keywordflow">else</font>
00459                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00460               }
00461               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-headSize"</font>) {
00462                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=2) {
00463                   <font class="keywordtype">int</font> rate = atoi(bufferVec[1].c_str());
00464                   <font class="keywordflow">if</font> (rate!=0)
00465                     inPhrase.<a class="code" href="class_phrase.html#a37">headSize</a>(rate, glob);
00466                 } <font class="keywordflow">else</font>
00467                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00468               }
00469               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-coarticulation"</font>) {
00470                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=3) {
00471                   <font class="keywordtype">int</font> rate = atoi(bufferVec[1].c_str());
00472                   CO_TYPE coType  = (CO_TYPE) atoi(bufferVec[2].c_str());
00473                   <font class="keywordflow">if</font> (rate!=0)
00474                     inPhrase.<a class="code" href="class_phrase.html#a38">coarticulation</a>(rate, coType, glob);
00475                 } <font class="keywordflow">else</font>
00476                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00477               }
00478               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-assimilateConsonants"</font>) {
00479                 inPhrase.<a class="code" href="class_phrase.html#a39">assimilateConsonants</a>(glob);
00480               }
00481               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-jitter"</font>) {
00482                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=4) {
00483                   ACCENT_TYPE accent = (ACCENT_TYPE) atoi(bufferVec[1].c_str());
00484                   <font class="keywordtype">int</font> rate = atoi(bufferVec[2].c_str());
00485                   <font class="keywordtype">int</font> method = atoi(bufferVec[3].c_str());
00486                   <font class="keywordflow">if</font> (rate!=0)
00487                     inPhrase.<a class="code" href="class_phrase.html#a40">addJitter</a>(accent, rate, method, glob);
00488                 } <font class="keywordflow">else</font>
00489                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00490               }
00491               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-tense"</font>) {
00492                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=2) {
00493                   <font class="keywordtype">int</font> rate = atoi(bufferVec[1].c_str());
00494                   <font class="keywordflow">if</font> (rate!=0)
00495                     inPhrase.<a class="code" href="class_phrase.html#a42">addTense</a>(rate, glob);
00496                 } <font class="keywordflow">else</font>
00497                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00498               }
00499               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-breathy"</font>) {
00500                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=2) {
00501                   <font class="keywordtype">int</font> rate = atoi(bufferVec[1].c_str());
00502                   <font class="keywordflow">if</font> (rate!=0)
00503                     inPhrase.<a class="code" href="class_phrase.html#a41">addBreathy</a>(rate, glob);
00504                 } <font class="keywordflow">else</font>
00505                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00506               }
00507               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-whispery"</font>) {
00508                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=2) {
00509                   <font class="keywordtype">int</font> rate = atoi(bufferVec[1].c_str());
00510                   <font class="keywordflow">if</font> (rate!=0)
00511                     inPhrase.<a class="code" href="class_phrase.html#a43">addWhisper</a>(rate, glob);
00512                 } <font class="keywordflow">else</font>
00513                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00514               }
00515               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-creaky"</font>) {
00516                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=2) {
00517                   <font class="keywordtype">int</font> rate = atoi(bufferVec[1].c_str());
00518                   <font class="keywordflow">if</font> (rate!=0)
00519                     inPhrase.<a class="code" href="class_phrase.html#a45">addCreaky</a>(rate, glob);
00520                 } <font class="keywordflow">else</font>
00521                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00522               }
00523               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-laryngealized"</font>) {
00524                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=2) {
00525                   <font class="keywordtype">int</font> rate = atoi(bufferVec[1].c_str());
00526                   <font class="keywordflow">if</font> (rate!=0)
00527                     inPhrase.<a class="code" href="class_phrase.html#a44">addLaryngealized</a>(rate, glob);
00528                 } <font class="keywordflow">else</font>
00529                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00530               }
00531               <font class="keywordflow">if</font> (argName == <font class="stringliteral">"-falsetto"</font>) {
00532                 <font class="keywordflow">if</font> (bufferVec.size()&gt;=2) {
00533                   <font class="keywordtype">int</font> rate = atoi(bufferVec[1].c_str());
00534                   <font class="keywordflow">if</font> (rate!=0)
00535                     inPhrase.<a class="code" href="class_phrase.html#a46">addFalsett</a>(rate, glob);
00536                 } <font class="keywordflow">else</font>
00537                   <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"missing argument in modFile at arg: "</font>+argName+<font class="stringliteral">"\n"</font>, -1);
00538               }
00539             }
00540           }
00541         }
00542       }
00543       modFile.close();
00544     } <font class="keywordflow">else</font> {
00545       <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"couldn't open Mod-File: "</font> + string(modFileName) + <font class="stringliteral">"\n"</font>, -1);
00546     } 
00547   }
00548  
00549   inPhrase.<a class="code" href="class_phrase.html#a8">modelKlattParameters</a>(glob);
00550    
00551   inPhrase.<a class="code" href="class_phrase.html#a9">modelFeatures</a>(glob);
00552 
00553   cout &lt;&lt; <font class="stringliteral">"modified phrase has mean F0-Val of "</font>&lt;&lt;inPhrase.<a class="code" href="class_phrase.html#a0">MeanF0</a>()/10&lt;&lt;<font class="stringliteral">" Hz and F0-Range of "</font>&lt;&lt;inPhrase.<a class="code" href="class_phrase.html#a2">F0Range</a>()&lt;&lt;<font class="stringliteral">" Semitones\n"</font>;
00554  
00555   <font class="keywordflow">if</font> (RETURN_OK==<a class="code" href="parse_argument_h.html#a8">parse_argument_flag</a>(argc, argv, <font class="stringliteral">"-printSylStats"</font>)) {
00556     argNum -= 1;    
00557     inPhrase.<a class="code" href="class_phrase.html#a3">printSyllableVec</a>(cerr);
00558   }  
00559 
00560   <font class="comment">// inPhrase.printPhonFeatures(cout);</font>
00561   
00562 
00563   <font class="keywordflow">if</font> (<a class="code" href="parse_argument_h.html#a7">parse_argument_string</a>(argc, argv, <font class="stringliteral">"-ko"</font>, &amp;outFileName)==RETURN_OK) {
00564     ofstream outFile(outFileName);
00565     <font class="keywordflow">if</font> (outFile.good()) {
00566       inPhrase.<a class="code" href="class_phrase.html#a14">printKlattFile</a>(outFile);
00567       outFile.close();
00568     } <font class="keywordflow">else</font> {
00569       <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"problems writing to: "</font> + string(outFileName) + <font class="stringliteral">"\n"</font>, -1);
00570     }
00571     argNum -= 2;
00572   }
00573   <font class="keywordflow">if</font> (<a class="code" href="parse_argument_h.html#a7">parse_argument_string</a>(argc, argv, <font class="stringliteral">"-so"</font>, &amp;outFileName)==RETURN_OK) {
00574     ofstream outFile(outFileName);
00575     <font class="keywordflow">if</font> (outFile.good()) {
00576       inPhrase.<a class="code" href="class_phrase.html#a15">printSenSynFile</a>(glob, outFile);
00577       outFile.close();
00578     } <font class="keywordflow">else</font> {
00579       <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"problems writing to: "</font> + string(outFileName) + <font class="stringliteral">"\n"</font>, -1);
00580     }
00581     argNum -= 2;
00582   }
00583   <font class="keywordflow">if</font> (<a class="code" href="parse_argument_h.html#a8">parse_argument_flag</a>(argc, argv, <font class="stringliteral">"-po"</font>)==RETURN_OK) {
00584     inPhrase.<a class="code" href="class_phrase.html#a12">printPhoFile</a>(cout, glob);
00585     argNum--;
00586   }
00587   <font class="comment">/*                                              
</font>00588 <font class="comment">    if (parse_argument_flag(argc, argv, "-lo")==RETURN_OK) {
</font>00589 <font class="comment">    inPhrase.printLabelFile(cout, glob);
</font>00590 <font class="comment">    argNum--;
</font>00591 <font class="comment">  }
</font>00592 <font class="comment">  */</font>
00593   <font class="keywordflow">if</font> (<a class="code" href="parse_argument_h.html#a7">parse_argument_string</a>(argc, argv, <font class="stringliteral">"-lo"</font>, &amp;outFileName)==RETURN_OK) {
00594     ofstream outFile(outFileName);
00595     <font class="keywordflow">if</font> (outFile.good()) {
00596       inPhrase.<a class="code" href="class_phrase.html#a13">printLabelFile</a>(outFile, glob);
00597       outFile.close();
00598     } <font class="keywordflow">else</font> {
00599       <a class="code" href="util_h.html#a57">error</a>(<font class="stringliteral">"problems writing to: "</font> + string(outFileName) + <font class="stringliteral">"\n"</font>, -1);
00600     }
00601     argNum -= 2;
00602   }
00603   <font class="keywordflow">if</font> (argNum != 0)
00604     <a class="code" href="util_h.html#a58">warn</a>(<font class="stringliteral">"unrecognized argument\n"</font>);
00605   <font class="keywordflow">return</font> 0;
00606 }
</div></pre>    </td>
  </tr>
</table>
<a name="a1" doxytag="emoSyn.cc::usage"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void usage (
          </b></td>
          <td valign="bottom"><b>
)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<div class="fragment"><pre>00608              {
00609   cout &lt;&lt; <font class="stringliteral">"\n"</font>
00610        &lt;&lt; <font class="stringliteral">"emoSyn: program to modify pho-files and generate klatt-files\n"</font>
00611        &lt;&lt; <font class="stringliteral">"usage:\n&lt;-i pho-file&gt;\t\t:input file\n"</font>
00612        &lt;&lt; <font class="stringliteral">"[-v]\t:print version and exit\n"</font>    
00613        &lt;&lt; <font class="stringliteral">"[-h]\t:print usage and exit\n"</font>    
00614        &lt;&lt; <font class="stringliteral">"[-vb]\t:verbose mode\n"</font>    
00615        &lt;&lt; <font class="stringliteral">"[-printSylStats]\n"</font>    
00616        &lt;&lt; <font class="stringliteral">"[-mf modFileName]\t:file with modification parameters\n"</font>    
00617        &lt;&lt; <font class="stringliteral">"[-po]\t\t\t:output stdout pho-file\n"</font>    
00618        &lt;&lt; <font class="stringliteral">"[-lo &lt;OF&gt;]\t\t:output to &lt;OF&gt; esps label-file\n"</font>
00619        &lt;&lt; <font class="stringliteral">"&lt;-kd klatt-defaultfile&gt;\t:file with default parameters\n"</font>    
00620        &lt;&lt; <font class="stringliteral">"&lt;-db diphon-base name&gt;\t:name of dir with diphon-files\n"</font>    
00621        &lt;&lt; <font class="stringliteral">"[-testKlatt]\t\t:output 1 sec test-paramfile to klattTest.par\n"</font>
00622        &lt;&lt; <font class="stringliteral">"[-testSensyn parFile]\t:output 1 sec test-paramfile to klattTest.doc\n"</font>
00623        &lt;&lt; <font class="stringliteral">"[-makePhoFromDB phonFile]\t\n"</font>
00624        &lt;&lt;<font class="stringliteral">"[-so klatt-file]\t:output senSyn-parameter-file\n"</font>
00625        &lt;&lt;<font class="stringliteral">"[-ko klatt-file]\t:output klatt-parameter-file\n"</font>
00626        &lt;&lt;<font class="stringliteral">"[-use4Freq -use5Freq -use3BW -use5BW]\n"</font>
00627        &lt;&lt; <font class="stringliteral">"\n"</font>;
00628   exit(1);
00629 }
</div></pre>    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a name="a0" doxytag="emoSyn.cc::version"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
const string version = "0.01"
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
version number.
<p>
    </td>
  </tr>
</table>
generated by <a href="http://www.stack.nl/~dimitri/doxygen/index.html">doxygen</a>
